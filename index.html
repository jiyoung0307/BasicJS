<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>한시간만에 끝내는 자바스크립트 입문</title>
</head>

<!-- bootstrap css -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

<body>
    <!-- 웹 브라우저에서 접근했을 경우 웹 브라우저 엔진이 위에서부터 분석함.
    그럴 경우 script 양이 많을 경우 script의 이상이 있는지 확인 후 body로
    들어가서 화면에 뿌려질 element를 분석하기 시작하고 그러면서 화면이 로드가 되기 시작함.
    사용자 입장에서 화면이 열리는 것이 더 느리게 느껴질 수 있음. -->
    
    <!-- 그러나 script를 밑에 작성하면 html화면이 먼저 로딩이 되면서 좀 더 사용자 입장에서 빠르게 체감할 수 있음.
    script를 브라우저 엔진이 나중에 분석하게 만드는 것. -->
    <div class="container">
        <div>이름 : <input type="text" id="name" /></div>
        <div>지역 :
            <select id="city" onchange="changeCity();">
                <!-- <option value="02">서울</option>
                <option value="064">제주</option> -->
            </select>
        </div>
        <div>동네 : 
            <select id="region_02">
                <option value="">강남</option>
                <option value="">서초</option>
            </select>
            <select id="region_064" style="display: none;">
                <option value="">제주시</option>
                <option value="">서귀포시</option>
            </select>
        </div>

        <div>변수 테스트 : <input type="text" id="test" /></div>

        <button type="button" onclick="regist();">등록</button>
    </div>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>

    <!-- bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    
    <script>
        function regist() {
            // document.getElementById("name").value;

            // 방법 1) JavaScrip로 작성
            // alert(document.getElementById("name").value);
            // alert(document.getElementById("city").value);

            // 방법 2) jQuery로 작성
            alert($("#name").val());
            alert($("#city").val());

            // JS 오브젝트
            // 사용자가 입력한 값을 서버로 던져줄 때 주로 사용
            // 오브젝트를 사용해서 값을 던져주면 값 하나하나 던지는 것이 아니라 한번에 보내는 거라 유용
            // key-value 형태
            // let obj = {
            //     name:"",
            //     city:""
            // };

            // 오브젝트의 경우 선언하는 시점에 키를 잡아두지 않아도 나중에 얼마든지 추가할 수 있음.
            let obj = {};

            obj.name = $("#name").val();
            obj.city = $("#city").val();

            printConsole(obj);
            // printConsole2(name, city);


        }

        function loadCity() {
            let city = [{
                code:"02",
                name:"서울"
            },
            {
                code:"064",
                name:"제주"
            },
            {
                code:"051",
                name:"부산"
            }
            ];

            // 반복문
            for(let i = 0; i < city.length ; i++) {
                
                if(i==0) {
                  $('#city').append('<option value="' + city[i].code + '" selected>' + city[i].name +'</option>');
                } else if(i == 1) {

                } else {
                  $('#city').append('<option value="' + city[i].code + '">' + city[i].name +'</option>');
                }
            }

            // 하드코딩한 jQuery
            // $('#city').append('<option value="02" selected>서울</option>');
            // $('#city').append('<option value="064" selected>제주</option>');
        }

        // 함수는 함수를 호출하는 시점에 실행을 하므로 loadCity 강제 실행
        loadCity();

        function printConsole(data) {
            console.log(data);
        }

        function printConsole2(name, city) {
            console.log(name, city);
        }

        function changeCity() {
                // 방법 1) JavaScrip로 작성
                // let city = document.getElementById("city").value;
                // document.getElementById("region_02").style.display="none";
                // document.getElementById("region_064").style.display="none";

                // document.getElementById("region_"+city).style.display = "";

                // 방법 2) jQuery로 작성
                let city = $('#city').val();
                $('#region_02').hide();
                $('#region_064').hide();
                $('#region_'+city).show();
        }

        // var : 동일한 변수 사용 허용
        // let : 동일한 변수 사용 불가능
        // const : 한번 할당한 후 재할당 불가능(= 절대 바뀌지 않는 값)
        var x = 1;
        x = x + 2;

        let y = 1;
        y = y + 2;

        const z = 1;

        // 숫자, 소수점 숫자, 문자, 참/거짓(boolean), 오브젝트, 배열
        let a = 1;
        a = 1.231;
        a = "jiyoung";
        a = true; // false
    </script>
</body>
</html>